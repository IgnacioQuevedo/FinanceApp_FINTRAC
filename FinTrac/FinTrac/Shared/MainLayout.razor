@inherits LayoutComponentBase
@inject NavigationManager NavigationManager;
@using BusinessLogic.User_Components;
@using DataManagers.UserManager;
@using DataManagers;
@using Data;

@inject NavigationManager NavigationManager;
@inject UserManagement UserManagement;
@inject UserLogged UserLogged;
@inject Repository MemoryDataBase;

<PageTitle>FinTrac</PageTitle>

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <div class="d-flex align-items-end justify-content-end pb-4">
            <button type="button" class="btn btn-outline-danger" onclick="@(() => NavigationManager.NavigateTo("/"))">Log Out</button>

        </div>

        <article class="content px-4">
            <CascadingValue Value = "mainUser">
                @Body
            </CascadingValue>
            
        </article>


    </main>
</div>

@code{
   

    public User mainUser { get; set; }

    protected override void OnInitialized()
    {
        mainUser = MemoryDataBase.Users[UserLogged.Id];
    }
}